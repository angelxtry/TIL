# 3. 컬렉션 중심 프로그래밍

## 3-6 reduce로 filter 만들기, map에 PlainObject 다형성 추가

- filter를 reduce를 이용하여 만들어보자.

```js
console.log(filter(a => a % 2, [1, 2, 3, 4, 5]));
```

- filter에서 f는 predicator로 부른다.

```js
function filter(predi, coll) {
  return reduce(
    (res, val) => thenR(predi(val), bool => bool ? push(res, val) : res),
    coll, []);
}
```

- 축약하면 다음과 같이 표현할 수 있다.

```js
const filter = (f, coll) =>
  reduce((res, a) => thenR(f(a), b => b ? push(res, a) : res), coll, []);
console.log(filter(a => a % 2, [1, 2, 3, 4, 5]));
filter(a => Promise.resolve(a % 2), [1, 2, 3, 4, 5]).then(console.log);
```

- 축약하여 간단하게 표현하면 6개월 후에 볼때 이해가 빠르다? 정말?

----

- 이제 map을 개선한다.

```js
console.log(map(a => a + 10, { a: 10, b: 20, c: 30 }));
```

- 이것을 실행했을 때 다음과 같은 결과가 나오길 기대한다.

```js
{ a: 20, b: 30, c: 40 }
```