# 04. C# 객체지향 문법

## 4.3 상속

### 4.3.3 모든 배열의 조상: System.Array

* 소스코드에 정의되는 배열은 모두 Array 타입을 조상으로 둔다.
* C# 컴파일러는 자동적으로 int[] 타입을 Array 타입으로부터 상속받는 것으로 처리한다.
* 배열 인스턴스는 Array 타입이 가진 모든 특징을 제공한다.

* Rank: 인스턴스 프로퍼티
  * 차원 수를 반환한다.
* Length: 인스턴스 프로퍼티
  * element 수를 반환
* Sort: 정적 메서드 - 정렬
* GetValue: 인스턴스 메서드
  * 지정된 인덱스의 배열 요소 값을 반환
* Copy: 정적 메서드 - 다른 배열에 복사

```cs
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

class Book
{
    decimal _isbn;

    public Book(decimal isbn) { _isbn = isbn; }
}

namespace ConsoleApp1
{
    class Program
    {
        private static void OutputArrayInfo(Array arr)
        {
            Console.WriteLine("배열의 차원 수: " + arr.Rank);
            Console.WriteLine("배열의 요수 수: " + arr.Length);
            Console.WriteLine();
        }

        private static void OutputArrayElements(string title, Array arr)
        {
            Console.WriteLine("[" + title + "]");
            for(int i = 0; i < arr.Length; i++)
            {
                Console.Write(arr.GetValue(i) + ", ");
            }
            Console.WriteLine();
            Console.WriteLine();
        }

        static void Main(string[] args)
        {
            bool[,] boolArray = 
                new bool[,] { { true, false }, { false, false } };
            OutputArrayInfo(boolArray);

            int[] intArray = new int[] { 5, 4, 3, 2, 1, 0 };
            OutputArrayInfo(intArray);

            OutputArrayElements("원본 intArray", intArray);
            Array.Sort(intArray); // 정적 메서드
            OutputArrayElements("Array.Sort 후 intArray", intArray);

            int[] copyArray = new int[intArray.Length];
            Array.Copy(intArray, copyArray, intArray.Length); // 정적 메서드

            OutputArrayElements("intArray로부터 복사된 copyArray", copyArray);
        }
    }
}
```

```sh
배열의 차원 수: 2
배열의 요수 수: 4

배열의 차원 수: 1
배열의 요수 수: 6

[원본 intArray]
5, 4, 3, 2, 1, 0,

[Array.Sort 후 intArray]
0, 1, 2, 3, 4, 5,

[intArray로부터 복사된 copyArray]
0, 1, 2, 3, 4, 5,
```

### 4.3.4 this

* 객체는 외부에서 자신을 식별할 수 있는 변수를 갖는다.
* 클래스 내부에서 멤버에 접근했을 때 this를 생략해도 무방하다.
* this를 꼭 명시해야 할 경우도 있다.

```cs
class Book
{
    decimal isbn;
    public Book(decimal isbn)
    {
        this.isbn = isbn;
    }
}
```

* this를 사용해 생성자 내에서 다른 생성자를 호출하게 만들 수 있다.

```cs
class Book
{
    string title;
    decimal isbn;
    string author;

    public Book(string title) : this(title, 0) { }

    public Book(string title, decimal isbn)
        : this(title, isbn, string.Empty) { }

    // 초기화 코드를 하나의 생성자에서 처리
    public Book(string title, decimal isbn, string author)
    {
        this.title = title;
        this.isbn = isbn;
        this.author = author;
    }

    public Book() : this(string.Empty, 0, string.Empty) { }
}
```
