# 1. 함수형 프로그래밍 소개

> 함수형 프로그래밍은 식(expression)과 평가(evalution)를 사용하고 주로 이들을 함수에 캡슐화하여 계상을 정의하는 것이다. 그것은 변경 가능한(mutable) 객체나 상태 변경의 복잡성을 피하거나 그 중요성을 감소시킨다. 이를 통해 더욱 간결하고 이해하기 쉬운 프로그램이 만들어지는 경향이 있다.

> 파이썬은 명령 중심의 프로그래밍 언어(imperative programming language)가 제공하는 모든 최적화 능력을 그대로 유지한다.

이게 무슨 의미일까? 명령 중심의 프로그래밍 언어가 제공하는 모든 최적화 능력을 그대로 유지한다?

* 함수형 프로그래밍과 명령 중심 프로그래밍
    * 이 둘을 구분하는 중요한 특징 하나는 상태에 대한 개념이다.

> 이러한 언어가 명령적인 이유는 각 문장(statement)의 상태를 어떤 식으로든 변경하는 명령(command)이기 때문이다.

> 한 가지 접근 방법으로는 최종 상태를 정의하고, 그 최종 상태에 대해 성립해야 하는 명제를 알아낸 후, 그 명제를 달성하기 위한 여러 전제 조건을 거꾸로 연역해 나가는 것이다. 이러한 설계 과정은 납득할 만한 초기 상태가 만들어질 때까지 반복할 수 있다.

내가 개발하는 방식이다. 나만이 아니라 명령형 프로그램을 작성하는 대부분의 방식인가?

> 함수형 언어에서는 상태(변수를 변경한다는 의미)를 함수를 평가한다는 좀 더 단순한 표현 방식으로 대치한다. 함수를 평가하면 새로운 객체가 생기거나 기존 객체에서 다른 객체가 만들어진다. 함수형 프로그램은 함수의 합성이기 때문에 쉽게 이해할 수 있는 저수준 함수를 작성할 수 있거, 복잡한 문장을 순서대로 나열한 것보다 쉽게 머릿속에 그릴 수 있는 고수준 함수의 합성을 정의할 수 있다.

* 절차형(procedual) 패러다임과 객체지향 패러다임
    * 객체지향 프로그래밍은 명령형 프로그래밍의 하위 집합이다.

## 절차형 프로그램
```py
s = 0
for n in range(1, 10):
    if n % 3 == 0 or n % 5 == 0:
        s += n
print(s)

```

## 객체지향 프로그램

* 상태가 있는 컬렉션 객체인 m에 중간 값을 누적시킨다.
```py
m = list()
for n in range(1, 10):
    if n % 3 == 0 or n % 5 == 0:
        m.append(n)
print(sum(m))

```

```py
class SummableList(list):
    def sum(self):
        s = 0
        for v in self.__iter__():
            s += v
        return s

m = SummableList()
for n in range(1, 10):
    if n % 3 == 0 or n % 5 == 0:
        m.append(n)
print(m.sum())

```

* SummableList는 list를 상속받음
    * sum 메소드를 정의

## 함수형 프로그램

* 함수적인 의미에서 문제를 두 가지 부분으로 나누어 정의
    * 수의 시퀀스 합을 계산
    * 간단한 검사 조건을 통과한 값의 시퀀스를 생성

* 시퀀스의 합
```py
def sum(seq):
    if len(seq) == 0:
        return 0
    return seq[0] + sum(seq[1:])
```

