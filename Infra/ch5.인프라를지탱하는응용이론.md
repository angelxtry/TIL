# ch5. 인프라를 지탱하는 응용 이론

## 캐시 cache

사용 빈도가 높은 데이터를 고속으로 액세스할 수 있는 위치에 두는 것

'바로 사용할 테니까 일단 여기에 두자'

일부 데이터를 데이터 출력 위치와 가까운 지점에 일시적으로 저장한다.

데이터 재사용을 전제로 한다.

캐시는 데이터를 고속으로 액세스할 수 있고, 실제 데이터에 대한 액세스 부하를 줄일 수 있지만 데이터를 잃을 위험이 있어 캐시 데이터가 손실되도 괜찮은 경우에 주로 사용한다.

데이터 갱신 빈도가 높은 시스템이나 대량의 데이터에 액세스하는 시스템에는 적합하지 않다.

## interrupt

급한 일을 먼저 하도록 CPU에 알리는 중요한 역할

프로세스나 스레드가 허가되지 않은 메모리 위치에 엑세스하려고 하면, 조각화 위반(segmentation fault)이라 불리는 예외가 발생해서 OS에 의해 프로세스가 강제 종료된다. 이것도 interrupt다.

전화는 interrupt고, 정기적으로 메일 서버에서 메일을 수신하는 이메일은 polling이다.

polling은 정기적으로 질의하는 것을 기리킨다. 

정기적으로 징의함으로써 상대가 어떤 상태인지, 어떤 요구를 가지고 있는지 등을 알 수 있다.

polling은 질의 방향이 단방향이고, 질의는 일정 간격을 두고 정기적으로 발생한다.

따라서 반복만 하면 되기에 프로그램이 쉽고, 상대가 응답하는지 확인이 가능하고, 일을 모아서 일괄적으로 처리할 수 있다.

polling과 반대되는 것이 event driven 또는 interrupt다.

접속 풀이란 AP 서버와 DB 서버 간 연결을 미리 생성해 두어서 애플리케이션이 쉽게 연결을 이용할 수 있게 한 구조다. 미리 생성된 연결이 정상인지를 정기적으로 감시한다.

## 핑퐁 pingpong

큰 상자는 대량의 데이터를 빠르게 운반할 수 있다.(처리량 중시)

작은 상자는 소량의 데이터를 빠르게 운반할 수 있다.(지연 시간 중시)

오라클 DB에서 연속으로 대량의 데이터를 읽는 경우는 'db file scattered read'라는 1회 I/O로 대량의 데이터를 읽는 방식을 사용

최소 단위 데이터만 읽고 싶으면 'db file sequential read'라는 1블록만 읽는 방식을 사용

## 저널링 journaling

트랜잭션이나 매일 갱신되는 데이터의 변경 이력

롤백은 저널을 읽어서 실제 데이터 정보를 과거로 되돌리는 처리이고, 롤포워드는 저널을 읽어서 실제 데이터 정보를 앞으로 진행시키는 처리다. 이 처리는 트랜잭션 단위로 실행된다.

