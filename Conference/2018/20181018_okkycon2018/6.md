# 당신의 TDD가 항상 실패하는 이유

- 우리는
  - 스타트업은 아니다.
  - 비지니스 서비스를 만든다
  - 글로벌 시장 대상으로
  - 여행 산업
  - 경쟁자들이 많다.
  - 어마무시한 요구들
  - btb
  - scalable
  - responsice
  - multitenancy

## TDD가 실패하는 이유

- you are not prepared - illidan stormrage

- 항상 반드시 TDD를 해야 하나요?
  - 아니요
  - 전 과학자가 아니라 엔지니어 입니다.

- 우리 팀이 아직 준비가 되지 않았다면 TDD를 하지 않아도 된다.

## 우리가 보호해야 하는 것

- 도메인

## 우리가 제어할 수 없는 것

- 외부세상
  - 실세계
  - 인프라
  - 외부 서비스
  - 레거시

## 설계

- 우리가 보호해야 하는 것들을 외부세상과 분리하는 것
- 낮은 결함
- 높은 응집도

## 설계를 테스트 하라

- 요건이 바뀌면 테스트가 깨진다.
- 어떻게 해야 할까?

## 구현 테스트

- TDD에 실패하는 사람들이 많이 하는 테스트
- 그 기능을 어떻게 구현하고 있는가.
- 테스트 코드가 내용을 속속들이 알고 있다.
- 구현 코드를 변경하면 테스트가 다 깨진다.

## 정보 숨김

- Parnas 1971
- 어려운 설계 결정과 변경될 가능성이 높은 설계 결정들을 다른 모듈로부터 숨기는 것
- 급하게 만든 더러운 구현
  - 그 구현를 외부에 숨겨라.

## 설계 테스트

- interface - implementation
- interface를 테스트 해라.
- 어디까지가 interface고 어디까지가 implementation인가.

## 레거시와 함께 살기

- legacy와 new code 사이에 adapter를 만든다.
- adapter는 테스트를 만들지 않을 수 있도록 매우 단순하게 만든다.

## 당신의 팀이 TDD에 실패하는 이유

- 당신의 팀은 이렇게 하지 않는다.

- 프로세스
  - 점진
  - 반복
  - Fail-Fast를 위해서

- 반복 주기
  - 계획
  - 실행
  - 평가
  - 가설을 세우고 실험을 하고 검증한다.
  - 보통 계획과 평가는 안하고 실행만 한다.

- 문화
  - 공유
    - 목표
      - 팀 간에, 팀원 간에 목표가 명확하게 공유되어야 한다.
    - 지식
      - 도메인 지식부터 기술 지식까지

- 아키텍처
  - 낮은 결함
  - 높은 응집
  - 도메인 모델 보호

- 도메인 모델과 플랫폼
  - 자바 개발자는 spring을 얘기하지 않으면 얘기를 못한다.
  - 플랫폼에 도메인 모델이 갇혀있기 때문에
  - 도메인 모델은 플랫폼에 독립적이어야 한다.

- 아키텍처 사례
  - business logic
    - 가장 많다.
  - services
    - aws 추상화, kafka 추상화 등
  - modules
    - 연결?
  - application platform

- MVVM 아키텍처 패턴
  - Model
  - View Model
  - View

- 소프트웨어 사용자에게 어떤 가치를 전달할 것인가?
- 분석
  - 목적을 달성하기 위해 어떤 소프트웨어...
- 작업 설계
  - 어떤 세부 작업들이 있는가
  - 어떤 순서로 진행되어야 하는가
  - 누가 담당하는가
- 코드 설계
  - 어떤 코드 변경이 필요한가
- 피드백

- 신입 개발자들이 성장하는 방법
  - 페어링
  - 업무를 분석하고 작업을 나누고 코드를 작성하는 것까지
  