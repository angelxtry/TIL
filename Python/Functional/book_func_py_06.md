# 6. ì¬ê·€ì™€ ì¶•ì•½
> ìˆœìˆ˜í•œ í•¨ìˆ˜ì  ê´€ì ì—ì„œ ë³´ë©´ ì¶•ì•½ì€ ì¬ê·€ì ìœ¼ë¡œ ì •ì˜ëœë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ ì¶•ì•½ ì•Œê³ ë¦¬ì¦˜ì„ ì‚´í´ë³¼ ë•ŒëŠ” ë¨¼ì € ì¬ê·€ì ì¸ ì•Œê³ ë¦¬ì¦˜ì„ ì‚´í´ë³¸ë‹¤.

> íŒŒì´ì¬ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¼¬ë¦¬ì¬ê·€ ìµœì í™” ê¸°ë²•ì€ ëª…ì‹œì ìœ¼ë¡œ for ë£¨í”„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

## ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ê°„ë‹¨í•œ ì¬ê·€
> ëª¨ë“  ì—°ì‚°ì˜ ê¸°ì´ˆê°€ ë˜ëŠ” ì‚°ìˆ  ì—°ì‚°ë„ ì¬ê·€ì ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

> ëª¨ë“  ì¬ê·€ ì •ì˜ì—ëŠ” ë‘ ê°€ì§€ ê²½ìš°ê°€ ë“¤ì–´ ìˆë‹¤. ì²«ì§¸ëŠ” í•¨ìˆ˜ì˜ ê²°ê³¼ ê°’ì„ ì§ì ‘ì ìœ¼ë¡œ ì •ì˜í•˜ëŠ” ì¬ê·€ì ì´ì§€ ì•Šì€ ê²½ìš°ì´ê³ , ë‘˜ì§¸ëŠ” í•¨ìˆ˜ì˜ ê°’ì„ ê°™ì€ í•¨ìˆ˜ì— ë‹¤ë¥¸ ê°’ì„ ì ìš©í•´ ì–»ì€ ê²°ê³¼ë¥¼ ì‚¬ìš©í•´ ê³„ì‚°í•´ë‚´ëŠ” ì¬ê·€ì ì¸ ê²½ìš°ë‹¤.

> ì¬ê·€ê°€ ëë‚œë‹¤ëŠ” ê²ƒì„ ë³´ì¥í•˜ë ¤ë©´, ì¬ê·€ì ì¸ ê²½ìš°ì— ì‚¬ìš©í•˜ëŠ” ì¬ê·€í˜¸ì¶œì´ ì–´ë–»ê²Œ ì¬ê·€ì ì´ì§€ ì•Šì€ ê²½ìš°ì— ë„ë‹¬í•˜ë„ë¡ ê°’ì„ ê³„ì‚°í•˜ëŠ”ì§€ ì‚´í´ë³´ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

## ê¼¬ë¦¬ì¬ê·€í˜¸ì¶œ êµ¬í˜„í•˜ê¸°
> ì¼ë¶€ í•¨ìˆ˜ì˜ ê²½ìš° ì¬ê·€ì  ì •ì˜ê°€ ë” ê°„ê²°í•˜ê³  í•¨ìˆ˜ë¥¼ ì˜ ì„¤ëª…í•´ì£¼ê¸°ë„ í•œë‹¤. ê°€ì¥ ì¼ë°˜ì ì¸ ì˜ˆë¡œëŠ” factorial() í•¨ìˆ˜ë¥¼ ë“¤ ìˆ˜ ìˆë‹¤.

```py
def fact(n):
    if n == 0:
        return 1
    else:
        return n * fact(n-1)
```

> ì´ ì •ì˜ì˜ ì¥ì ì€ ë‹¨ìˆœí•˜ë‹¤ëŠ” ê²ƒì´ë‹¤. í•˜ì§€ë§Œ íŒŒì´ì¬ì˜ ì¬ê·€ ê¹Šì´ ì œí•œìœ¼ë¡œ ì¸í•´ fact(997)ë³´ë‹¤ í° ìˆ˜ë¥¼ ê³„ì‚°í•  ìˆ˜ ì—†ë‹¤.

```py
def facti(n):
    if n == 0:
        return 1
    f = 1
    for i in range(2, n):
        f = f * i
    return f
```

ì´ê±° ì‹¤ì œë¡œ ëŒë¦¬ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ê±´ì§€ ì˜ ì´í•´ê°€ ì•ˆëœë‹¤. n == 1ì˜ ê²°ê³¼ëŠ”? n == 2ì˜ ê²°ê³¼ëŠ”?

> ì´ëŠ” ìˆœìˆ˜í•œ í•¨ìˆ˜í˜• í•¨ìˆ˜ê°€ ì•„ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ê¼¬ë¦¬ì¬ê·€ë¥¼ i ë³€ìˆ˜ì˜ ê°‘ì— ì˜ì¡´í•˜ë©´ì„œ ê³„ì‚° ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ë£¨í”„ë¡œ ìµœì í™”í–ˆë‹¤.

## ì¬ê·€ë¥¼ ê·¸ëŒ€ë¡œ ë‚¨ê²¨ë‘ê¸°
> ê²½ìš°ì— ë”°ë¼ ì¬ê·€ì  ì •ì˜ê°€ ì‹¤ì œë¡œë„ ìµœì ì¼ ìˆ˜ ìˆë‹¤. ì¼ë¶€ ì¬ê·€ëŠ” ì‘ì—…ì˜ ë³µì¡ë„ë¥¼ O(n)ì—ì„œ O(log2n)ìœ¼ë¡œ ë°”ê¿”ì£¼ëŠ” ë¶„í•  ì •ë³µ ì „ëµì„ ë”°ë¥¸ë‹¤. ì´ëŸ¬í•œ ê²½ìš°ì˜ í•œ ì˜ˆëŠ” ì„ì˜ì˜ ì œê³±ìˆ˜ ê³„ì‚°ì„ 2ì˜ ê±°ë“­ì œê³±ì„ ì‚¬ìš©í•´ ê³„ì‚°í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.

```py
def fastexp(a, n):
    if n == 0:
        return 1
    elif n % 2 == 1:
        return a * fastexp(a, n-1)
    else:
        t = fastexp(a, n//2)
        return t*t
```

> ì´ í•¨ìˆ˜ì—ëŠ” ì„¸ ê°€ì§€ ê²½ìš°ê°€ ë“¤ì–´ ìˆë‹¤. ê¸°ë³¸ì ì¸ ê²½ìš° fastexp(a, 0) ë©”ì„œë“œëŠ” 1ë¡œ ì •ì˜ëœë‹¤. ë‹¤ë¥¸ ë‘ ê²½ìš°ëŠ” ì„œë¡œ ë‹¤ë¥¸ ì ‘ê·¼ ë°©ë²•ì„ ì„ íƒí•œë‹¤. í™€ìˆ˜ì˜ ê²½ìš°ì—ëŠ” fastexp() ë©”ì„œë“œëŠ” ì¬ê·€ì ìœ¼ë¡œ ì§€ìˆ˜ nì„ 1ê°ì†Œì‹œì¼œ ìì‹ ì„ í˜¸ì¶œí•œë‹¤. ì´ ê²½ìš°ì—ëŠ” ê°„ë‹¨í•œ ê¼¬ë¦¬ì¬ê·€ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

> ì§ìˆ˜ì˜ ê²½ìš° fastexp()ëŠ” n/2ë¥¼ ì‚¬ìš©í•´ ë¬¸ì œë¥¼ ì›ë˜ í¬ê¸°ì˜ ì ˆë°˜ìœ¼ë¡œ ì¤„ì—¬ ë²„ë¦°ë‹¤. ë¬¸ì œ í¬ê¸°ê°€ 2ë°° ì¤„ì—ˆê¸° ë•Œë¬¸ì— ì´ ê²½ìš° ì²˜ë¦¬ ì†ë„ê°€ ì—„ì²­ë‚˜ê²Œ ë¹¨ë¼ì§„ë‹¤.

> ì´ëŸ¬í•œ í•¨ìˆ˜ëŠ” ì‰½ê²Œ ê¼¬ë¦¬ì¬ê·€ ë£¨í”„ë¡œ ë°”ê¿€ ìˆ˜ ì—†ë‹¤. ì´ë¯¸ ì´ ì•Œê³ ë¦¬ì¦˜ì´ ìµœì ì´ê¸° ë•Œë¬¸ì— ì‹¤ì œ ì´ë¥¼ ë” ìµœì í™”í•  í•„ìš”ë„ ì—†ë‹¤. íŒŒì´ì¬ì˜ ì¬ê·€ ê¹Šì´ ì œí•œì¸ n<=2^1000ë„ ìƒë‹¹íˆ í° ë²”ìœ„ì˜ ê³„ì‚°ì„ í—ˆìš©í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.

## ì²˜ë¦¬í•˜ê¸° ì–´ë ¤ìš´ ê¼¬ë¦¬ì¬ê·€ ë‹¤ë£¨ê¸°
> ì–´ë–¤ í”¼ë³´ë‚˜ì¹˜ ìˆ˜ Fnì€ ê·¸ë³´ë‹¤ ì•ì˜ ë‘ í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì˜ í•© Fn-1 + Fn-2ìœ¼ë¡œ ì •ì˜ëœë‹¤. ì´ëŠ” ë‹¤ì¤‘ ì¬ê·€ì˜ ì¼ì¢…ì´ë‹¤. ì´ë¥¼ ë‹¨ìˆœí•œ ê¼¬ë¦¬ì¬ê·€ë¡œ ìµœì í™”í•  ìˆ˜ëŠ” ì—†ë‹¤. í•˜ì§€ë§Œ ì´ í•¨ìˆ˜ë¥¼ ê¼¬ë¦¬ì¬ê·€ë¡œ ìµœì í™”í•˜ì§€ ì•Šìœ¼ë©´, ë„ˆë¬´ ëŠë ¤ì„œ ì“¸ëª¨ê°€ ì—†ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê²Œ ëœë‹¤.

```py
def fib(n):
    if n == 0:
        return 0
    if n == 1:
        return 1
    return fib(n-1) + fib(n-2)
```

```py
def fibi(n):
    if n == 0:
        return 0
    if n == 1:
        return 1
    f_n2, f_n1 = 1, 1
    for i in range(3, n+1):
        f_n2, f_n1 = f_n1 + f_n2+f_n1
    return f_n1
```

## ì¬ê·€ë¥¼ ì‚¬ìš©í•´ ì»¬ë ‰ì…˜ ì²˜ë¦¬í•˜ê¸°
> ì»¬ë ‰ì…˜ì„ ë‹¤ë£¨ëŠ” ê²½ìš°ì—ë„ ì²˜ë¦¬ë¥¼ ì¬ê·€ì ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

> ë¹ˆ ì»¬ë ‰ì…˜ì— ëŒ€í•œ ë§¤í•‘ì€ ë¹ˆ ì‹œí€€ìŠ¤ë¡œ ì •ì˜í•œë‹¤. ë˜í•œ ì–´ë–¤ ì»¬ë ‰ì…˜ì— í•¨ìˆ˜ fë¥¼ ë§¤í•‘í•˜ëŠ” ê²ƒì€ 3ë‹¨ê³„ë¥¼ ê±°ì¹˜ëŠ” ì¬ê·€ë¥¼ ì‚¬ìš©í•œ ì‹ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ì²«ì§¸, í•¨ìˆ˜ fë¥¼ ì‹œí€€ìŠ¤ì˜ ë§ˆì§€ë§‰ ì›ì†Œë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì»¬ë ‰ì…˜ì— ë§¤í•‘í•˜ì—¬ ìƒˆë¡œìš´ ì»¬ë ‰ì…˜ì„ ë§Œë“ ë‹¤. ë‘˜ì§¸, í•¨ìˆ˜ë¥¼ ë§ˆì§€ë§‰ ì›ì†Œì— ì ìš©í•´ ê²°ê³¼ ê°’ì„ ì–»ëŠ”ë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, ì²« ë‹¨ê³„ì— ë§Œë“¤ì–´ ë‚¸ ì»¬ë ‰ì…˜ì´ ë’¤ì— ë‘˜ì§¸ ë‹¨ê³„ì—ì„œ ì–»ì€ ê°’ì„ ë§ë¶™ì¸ë‹¤.

> ë‹¤ìŒì˜ map() í•¨ìˆ˜ë¥¼ ìˆœìˆ˜í•˜ê²Œ í•¨ìˆ˜ì ì¸ ì¬ê·€ ë²„ì „ìœ¼ë¡œ ì‘ì„±í•œ ê²ƒì´ë‹¤.
```py
def mapr(f, collection):
    if len(collection) == 0:
        return []
    return mapr(f, collection[:-1]) + [f(collection[-1])]
```

> mapr() í•¨ìˆ˜ë„ íŒŒì´ì¬ì˜ ì˜› map() í•¨ìˆ˜ì²˜ëŸ¼ list ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë‚¸ë‹¤. íŒŒì´ì¬ 3ì˜ map() í•¨ìˆ˜ëŠ” ë°˜ë³µ ê°€ëŠ¥ ê°ì²´ë¥¼ ë°˜í™˜í•˜ë©°, ì´ëŠ” ê¼¬ë¦¬ì¬ê·€ ìµœì í™”ì˜ ì¢‹ì€ ì˜ˆê°€ ì•„ë‹ˆë‹¤.

> ë¹„ë¡ ì´ëŸ¬í•œ ì •ì˜ê°€ ìš°ì•„í•˜ê¸°ëŠ” í•˜ì§€ë§Œ, ê¼¬ë¦¬ì¬ê·€ë¥¼ ìµœì í™”í•˜ì§€ ì•Šì•˜ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤. ê¼¬ë¦¬ì¬ê·€ë¥¼ ìµœì í™”í•˜ë©´ 1,000ê°œ ì´ìƒì˜ ì›ì†Œë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆê³ , ë‹¨ìˆœí•œ ì¬ê·€ ë²„ì „ë³´ë‹¤ ì‹¤í–‰ ì„±ëŠ¥ë„ í›¨ì”¬ ì¢‹ì•„ì§„ë‹¤.

## ì»¬ë ‰ì…˜ì— ëŒ€í•œ ê¼¬ë¦¬ í˜¸ì¶œ ìµœì í™”
> ì»¬ë ‰ì…˜ì„ ì²˜ë¦¬í•˜ëŠ” ì¼ë°˜ì ì¸ ë°©ë²•ì—ëŠ” ë‘ ê°€ì§€ê°€ ìˆë‹¤. ì²«ì§¸ëŠ” ì œë„¤ë ˆì´í„° ì‹ì„ ë°˜í™˜í•˜ëŠ” ê³ ì°¨ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ê³ , ë‘˜ì§¸ëŠ” ê° ì›ì†Œë¥¼ ì²˜ë¦¬í•˜ëŠ” for ë£¨í”„ë¥¼ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤.

> ë‹¤ìŒì€ ë‚´ì¥ map() í•¨ìˆ˜ì²˜ëŸ¼ ì‘ë™í•˜ëŠ” ê³ ì°¨ í•¨ìˆ˜ë‹¤.

```py
def mapf(f, C):
    return (f(x) for x in C)
```

> ì›í•˜ëŠ” ë§¤í•‘ì„ ë§Œë“¤ì–´ ë‚´ëŠ” ì œë„¤ë ˆì´í„° ì‹ì„ ë°˜í™˜í•œë‹¤. ëª…ì‹œì ìœ¼ë¡œ for ë£¨í”„ë¥¼ ì‚¬ìš©í•´ ê¼¬ë¦¬ì¬ê·€ë¥¼ ìµœì í™”í–ˆë‹¤.

> ë‹¤ìŒì€ ê°™ì€ ê²°ê³¼ë¥¼ ë‚´ë†“ëŠ” ì œë„¤ë ˆì´í„° í•¨ìˆ˜ë‹¤.

```py
def mapg(f, C):
    for x in C:
        yield f(x)
```
> ì´ ì½”ë“œëŠ” ìµœì í™”ë¥¼ ìœ„í•´ ì™„ì „í•œ forë¬¸ì„ ì‚¬ìš©í–ˆë‹¤.

> ë‘ ê²½ìš° ëª¨ë‘ ê²°ê³¼ëŠ” ë°˜ë³µ ê°€ëŠ¥ ê°ì²´ë‹¤.

```py
list(mapg(lambda x: 2**x, [0, 1, 2, 3, 4]))
```

> ì„±ëŠ¥ì´ë‚˜ ê·œëª¨ í™•ì¥ì„±ì„ ìƒê°í•´ë³´ì. ì´ëŸ¬í•œ ì¢…ë¥˜ì˜ ê¼¬ë¦¬ì¬ê·€ ìµœì í™”ëŠ” íŒŒì´ì¬ í”„ë¡œê·¸ë˜ë°ì—ì„œ í•„ìˆ˜ì ì´ë‹¤. í•˜ì§€ë§Œ ì½”ë“œë¥¼ ëœ ìˆœìˆ˜í•œ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ë§Œë“ ë‹¤. ë˜í•œ ìµœì í™”ë¡œ ì–»ëŠ” ì´ì ì´ ìˆœìˆ˜ì„±ì„ ìƒëŠ” ëŒ€ê°€ë³´ë‹¤ ë”ìš± í¬ë‹¤. ê°„ê²°í•˜ë©´ì„œ ì•Œì•„ë³´ê¸° ì‰¬ìš´ í•¨ìˆ˜í˜• ì„¤ê³„ì˜ ì´ì ì„ ì‚´ë¦¬ê¸° ìœ„í•´ì„œëŠ” ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ëœ ìˆœìˆ˜í•œ í•¨ìˆ˜ë“¤ì´ ë§ˆì¹˜ ì™„ì „í•œ ì¬ê·€í•¨ìˆ˜ì¸ ê²ƒì²˜ëŸ¼ ë‹¤ë£¨ëŠ” ê²ƒì´ ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤.

## ì¶•ì•½ê³¼ ê²¹ì¹˜ê¸° - ë§ì€ ê°’ì„ í•œ ê°€ì§€ ê°’ìœ¼ë¡œ ì¤„ì´ê¸°
> ê²°ê³¼ì ìœ¼ë¡œ ì‹œí€€ìŠ¤ì˜ ê° ì›ì†Œ ì‚¬ì´ì— *ë‚˜ +ì—°ì‚°ìë¥¼ ê²¹ì¹œ ê²ƒê³¼ ê°™ë‹¤. ë” ë‚˜ì•„ê°€ ì´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì´ ì˜¤ë¥¸ìª½ì—ì„œ ì™¼ìª½ìœ¼ë¡œ ì§„í–‰ë˜ë„ë¡ ì›ì†Œë¥¼ ë¬¶ì—ˆë‹¤. ì´ ê²½ìš°, ì»¬ë ‰ì…˜ì„ í•œ ê°€ì§€ ê°’ìœ¼ë¡œ ì¶•ì•½í•˜ê¸° ìœ„í•´ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì ‘ê¸°(fold-right) ë°©ì‹ì„ ì‚¬ìš©í–ˆë‹¤ê³  ë§í•  ìˆ˜ ìˆë‹¤.

> íŒŒì´ì¬ì—ì„œëŠ” prod í•¨ìˆ˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì¬ê·€ì ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤.
```py
def prodrc(collection):
    if len(collection) == 0:
        return 1
    return collection[0] * prodrc(collection[1:])
```

> ê¸°ìˆ ì ìœ¼ë¡œëŠ” ì´ ì •ì˜ê°€ ë§ë‹¤. ìˆ˜í•™ì  í‘œê¸°ë¥¼ íŒŒì´ì¬ìœ¼ë¡œ ë‹¤ì‹œ ì“°ëŠ” ê²ƒì€ ì‰½ë‹¤. í•˜ì§€ë§Œ ì¤‘ê°„ì— ë„ˆë¬´ ë§ì€ list ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë‚´ê¸° ë•Œë¬¸ì— ì´ í•¨ìˆ˜ëŠ” ìµœì ê³¼ëŠ” ê±°ë¦¬ê°€ ë©€ë‹¤. ë˜ ëª…ì‹œì ì¸ ì»¬ë ‰ì…˜ë§Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ëŠ” ë‹¨ì ë„ ìˆë‹¤. ì´ í•¨ìˆ˜ë¥¼ ë°˜ë³µ ê°€ëŠ¥ ê°ì²´ì— ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ëŠ” ì—†ë‹¤.

> ì´ë¥¼ ì•½ê°„ ë°”ê¿” ë°˜ë³µ ê°€ëŠ¥ ê°ì²´ì— ì ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ë©´, ì¤‘ê°„ì¤‘ê°„ ìƒê¸°ëŠ” ì»¬ë ‰ì…˜ ê°ì²´ë¥¼ ì—†ì•¨ ìˆ˜ ìˆë‹¤. ë‹¤ìŒì€ ë°˜ë³µ ê°€ëŠ¥ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ì¬ê·€ì ìœ¼ë¡œ ê³±ì…ˆì„ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜ë‹¤.

```py
def prodri(iterable):
    try:
        head = next(iterable)
    except StopIteration:
        return 1
    return head * prodri(iterable)
```

> ë°˜ë³µ ê°€ëŠ¥ ê°ì²´ì˜ ì›ì†Œ ê°œìˆ˜ë¥¼ ì•Œì•„ë‚´ê¸° ìœ„í•´ len()ì„ í˜¸ì¶œí•  ìˆ˜ëŠ” ì—†ë‹¤. ìš°ë¦¬ê°€ í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ë°˜ë³µ ê°€ëŠ¥ ê°ì²´ì˜ ë‹¤ìŒ ì›ì†Œë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒë¿ì´ë‹¤. ê·¸ ê°ì²´ì— ì›ì†Œê°€ ì—†ë‹¤ë©´ ë‹¤ìŒ ì›ì†Œë¥¼ ê°€ì ¸ì˜¤ë ¤ëŠ” ì‹œë„ëŠ” StopIteration ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤. ì›ì†Œê°€ ìˆë‹¤ë©´ ê·¸ ì›ì†Œì™€ ë°˜ë³µ ê°€ëŠ¥ ê°ì²´ì˜ ë‚˜ë¨¸ì§€ ì›ì†Œì˜ ê³±ì„ ì„œë¡œ ê³±í•œë‹¤. ì´ í•¨ìˆ˜ë¥¼ ì‹œí—˜í•´ë³´ê¸° ìœ„í•´ì„œëŠ” ë°˜ë“œì‹œ iter() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ì‹¤ì²´í™”ëœ ì‹œí€€ìŠ¤ ê°ì²´ë¡œë¶€í„° ë°˜ë³µ ê°€ëŠ¥ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤. ì‚¬ìš© ê°€ëŠ¥í•œ ë°˜ë³µ ê°€ëŠ¥ ê°ì²´ê°€ ìˆëŠ” ê²½ìš°ë¼ë©´ ê·¸ëƒ¥ ê·¸ ê°ì²´ë¥¼ ì“°ë©´ ëœë‹¤.

```py
prodri(iter([1, 2, 3, 4, 5, 6, 7]))
```

> ì—¬ê¸°ì— ìˆëŠ” ì¬ê·€ì  ì •ì˜ëŠ” ëˆˆì— ë³´ì´ëŠ” ìƒíƒœë‚˜ íŒŒì´ì¬ì˜ ë‹¤ë¥¸ ëª…ë ¹í˜• ê¸°ëŠ¥ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤ ì´ í•¨ìˆ˜ê°€ ì¢€ ë” ìˆœìˆ˜ í•¨ìˆ˜ì´ê¸°ëŠ” í•˜ì§€ë§Œ, ì´ ì—­ì‹œ ì›ì†Œê°€ 1,000ê°œ ì´í•˜ì¸ ê²½ìš°ì—ë§Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ì‹¤ìš©ì„±ì„ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ëª…ë ¹í˜•ì˜ ì¶•ì•½ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 

```py
def prodi(iterable):
    p = 1
    for n in iterable:
        p *= n
    return p
```

> ì´ë ‡ê²Œ í•˜ë©´ ì¬ê·€ ê¹Šì´ì˜ ì œí•œì— ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤. ì´ í•¨ìˆ˜ì—ëŠ” í•„ìš”í•œ ê¼¬ë¦¬ì¬ê·€ ìµœì í™”ê°€ ì˜ ë“¤ì–´ ìˆë‹¤. ë” ë‚˜ì•„ê°€ ëŒ€ìƒ ê°ì²´ê°€ ì‹œí€€ìŠ¤ëƒ, ë°˜ë³µ ê°€ëŠ¥ ê°ì²´ì´ëƒì™€ ê´€ê³„ ì—†ì´ ì˜ ì‘ë™í•  ê²ƒì´ë‹¤.

> ë‹¤ë¥¸ í•¨ìˆ˜í˜• ì–¸ì–´ì—ì„œëŠ” ì´ëŸ¬í•œ í•¨ìˆ˜ë¥¼ foldl ì—°ì„ ì´ë¼ ë¶€ë¥¸ë‹¤. ì—°ì‚°ìê°€ ë°”ë°˜ë³µ ê°€ëŠ¥ ì»¬ë ‰ì…˜ì˜ ê°’ì„ ì™¼ìª½ì—ì„œ ì˜¤ëŠ˜ìª½ìœ¼ë¡œ ê²¹ì³ ë‚˜ê°„ë‹¤. ì´ëŠ” ê³„ì‚°ì„ ì˜¤ë¥¸ìª½ì—ì„œ ì™¼ìª½ìœ¼ë¡œ ì§„í–‰í•´ ë‚˜ê°€ëŠ” foldrì´ë¼ ë¶ˆë¦¬ëŠ” ì¬ê·€ ì •ì˜ì™€ëŠ” ì°¨ì´ê°€ ìˆë‹¤.

> ìµœì í™” ì»´íŒŒì¼ëŸ¬ì™€ ì§€ì—° ê³„ì‚°ì´ ìˆëŠ” ì–¸ì–´ì—ì„œ ì˜¤ë¥¸ìª½ ì ‘ê¸°ì™€ ì™¼ìª½ ì ‘ê¸°ëŠ” ì¤‘ê°„ ê²°ê³¼ê°€ ë§Œë“¤ì–´ì§€ëŠ” ìˆœì„œë¥¼ ê²°ì •í•œë‹¤ ê²½ìš°ì— ë”°ë¼ ë‘˜ ì‚¬ì´ì— ì‹¬ê°í•œ ì„±ëŠ¥ìƒì˜ ì°¨ì´ê°€ ë‚˜íƒ€ë‚  ìˆ˜ë„ ìˆì§€ë§Œ, ê·¸ëŸ¬í•œ ì°¨ì´ê°€ í•­ìƒ ë¶„ëª…í•œ ê²ƒì€ ì•„ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì™¼ìª½ ì ‘ê¸°ëŠ” ì‹œí€€ìŠ¤ì˜ ì²« ë²ˆì§¸ ì›ì†Œë¥¼ ì¦‰ì‹œ ê°€ì ¸ì˜¤ê¸°ëŠ” í•˜ì§€ë§Œ, ëª¨ë“  ì›ì†Œë¥¼ ë‹¤ ê°€ì ¸ì™€ ì²˜ë¦¬í•œ í›„ì—ì•¼ ì²« ë²ˆì§¸ ì›ì†Œë¥¼ ì²˜ë¦¬í•œë‹¤.

## ê·¸ë£¹ ë§Œë“¤ê¸° ì¶•ì•½ - ë§ì€ ê°’ì„ ì¢€ ë” ì ì€ ê°’ìœ¼ë¡œ ì¤„ì´ê¸°
...


## Counterë¡œ ë§¤í•‘ ë§Œë“¤ê¸°
> collection.Counterì™€ ê°™ì€ ë§¤í•‘ì„ ì‚¬ìš©í•˜ë©´ ì»¬ë ‰ì…˜ì— ìˆëŠ” ì›ì†Œë“¤ì„ íŠ¹ì • ê°’ì— ì˜í•´ ê·¸ë£¹í™”í•˜ì—¬ ê°œìˆ˜(ë˜ëŠ” í•©ê³„)ë¥¼ ê³„ì‚°í•˜ëŠ” ì¶•ì•½ì„ ìˆ˜í–‰í•  ë•Œ ìƒë‹¹í•œ ìµœì í™”ë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤. ë°ì´í„°ë¥¼ ê·¸ë£¹í™”í•  ë•Œ ë” í•¨ìˆ˜ì ì¸ ì ‘ê·¼ ë°©ë²•ì€ ì›ë˜ì˜ ì»¬ë ‰ì…˜ì„ ì •ë ¬í•˜ê³ , ì¬ê·€ì  ë£¨í”„ë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ê·¸ë£¹ì˜ ì‹œì‘ ë¶€ë¶„ì„ ì‹ë³„í•˜ëŠ” ê²ƒì´ë‹¤. ì´ë ‡ê²Œ í•˜ë ¤ë©´ ì›ë°ì´í„°ë¥¼ ì‹¤ì²´í™”í•´ì•¼ í•˜ê³ , ì •ë ¬ì— O(nlogn)ì´ ë“¤ê³ , ê·¸ í›„ ê° í‚¤ì— ë”°ë¥¸ í•©ê³„ë‚˜ ê°œìˆ˜ë¥¼ ê³„ì‚°í•˜ê¸° ìœ„í•œ ì¶•ì•½ì—ë„ ë¹„ìš©ì´ ë“ ë‹¤.

> ë‹¤ìŒ ì œë„¤ë ˆì´í„°ë¥¼ ì‚¬ìš©í•´ ê·¸ë£¹ì„ ë‚˜ëˆŒ ê¸°ì¤€ ê±°ë¦¬ì˜ ì‹œí€€ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
```py
quantized = (5*(dist//5) for start, stop, dist in trip)
```
> ê° ê±°ë¦¬ë¥¼ 5ë¡œ ë‚˜ëˆ„ê³ , ì •ìˆ˜ ë‚˜ëˆ—ì…ˆìœ¼ë¡œ ì†Œìˆ˜ì  ì´í•˜ë¥¼ ë²„ë¦¼í•œ í›„ ë‹¤ì‹œ 5ë¥¼ ê³±í•˜ì—¬ ê°€ì¥ ê°€ê¹Œìš´ 5í•´ë¦¬ ë‹¨ìœ„ë¡œ ê±°ë¦¬ë¥¼ ë‚´ë¦¼í–ˆë‹¤.

> ë‹¤ìŒ ì‹ì€ ê±°ë¦¬ì™€ ë¹ˆë„ë¥¼ ì—°ê²°í•˜ëŠ” ë§¤í•‘ì„ ë§Œë“ ë‹¤.
```py
from collections import Counter
Counter(quantized)
print(Counter(quantized).most_common())
```

## ì •ë ¬ì„ ì‚¬ìš©í•´ ë§¤í•‘ ë§Œë“¤ê¸°
> Counter í´ë˜ìŠ¤ê°€ ì—†ì´ ê°™ì€ ë¬¸ì œì˜ í•´ë²•ì„ êµ¬í˜„í•˜ê³  ì‹¶ë‹¤ë©´, ì •ë ¬í•œ í›„ ê·¸ë£¹ì„ ë§Œë“œëŠ” ë” í•¨ìˆ˜ì ì¸ ë°©ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```py
def group_sort(trip):
    def group(data):
        previous, count = None, 0
        for d in sorted(data):
            if d == previous:
                count += 1
            elif previous is not None: # and d != previous
                yield previous, count
                previous, count = d, 1
            elif previous is None:
                previous, count = d, 1
            else:
                raise Exception("Bad Bad design problem")
        yield previous, count
    quantized = (5*(dist//5) for start, end, dist in trip)
    return dict(group(quantized))
```

...

## í‚¤ ê°’ì— ë”°ë¼ ë°ì´í„°ë¥¼ ê·¸ë£¹í™”í•˜ê±°ë‚˜ ë¶„í• í•˜ê¸°
