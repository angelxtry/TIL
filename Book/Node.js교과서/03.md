# 03 노드 기능 알아보기

## global

global은 전역 객체다.
REPL을 이용하여 global의 내부를 볼 수 있다.

노드에서는 window와 document 객체를 사용할 수 없다.

```js
// globalA.js
module.exports = () => global.message;
```

```js
// globalB.js
const A = require('./globalA');

global.message = '안녕하세요';
console.log(A());
```

global.message는 어느 파일에서든 접근할 수 있다.

## timer

setTimeout(callback, millisec)
setInterval(callback, millisec)
setImmediate(callback)

timer 함수들은 id를 반환한다.

clearTimeout(id)
clearInterval(id)
clearImmediate(id)

## __filename, __dirname

절대 경로를 확인할 수 있따.

## module, exports

module.exports와 exports가 같은 객체를 참조한다.

```js
console.log(module.exports === exports);
// true
```

exports -> module.exports -> {}

module.exports에는 어떤 값이든 대입해도 되지만, exports에는 반드시 객체처럼 속성명과 속성값을 대입해야 한다.
exports에 다른 값을 대입하면 객체의 참조 관계가 끊겨 더 이상 모듈로 동작하지 않는다.

exports는 객체만 사용할 수 있다. module.exports에 함수를 대입한 경우에는 exports로 바꿀 수 없다.

exports와 module.exports는 참조 관계이므로 한 모듈에서 두 개를 같이 사용하는 것은 권장하지 않는다.

## process.nextTick

이벤트 루프가 다른 콜백 함수들보다 nextTick의 콜백 함수를 우선으로 처리하도록 만든다.

process.nextTick은 setImmediate나 setTimeout보다 먼저 실행된다.
resolve된 Promise도 nextTick 처럼 다른 콜백들보다 먼저 실행된다.
process.nextTick과 Promise를 microtask라고 부른다.
