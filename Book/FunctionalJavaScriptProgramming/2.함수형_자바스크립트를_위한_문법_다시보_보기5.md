# 2장. 함수형 자바스크립트를 위한 문법 다시 보기

## 2.5 함수 실행의 괄호

### 2.5.1 함수 실행을 통해 생기는 새로운 공간

```js
(5);

(function() { return 10; });
```

* 함수를 실행하는 괄호가 아닌 일반 괄호에서는 코드가 실행되면 해당 지점에 즉시 값을 만들고 끝난다.
* 두 번째 코드의 경우도 익명 함수가 정의되었지만 실행할 수 없기 때문에 아무런 의미가 없다.

```js
const add5 = function(a) { // 새로운 공간
  return a + 5;
};

const call = function(f) { // 새로운 공간
  return f();
};

// 함수를 실행하는 괄호
console.log(add5(5));

console.log(call( _ => { return 10; }));
```

* 함수를 실행하는 괄호는 일반 괄호와 특성이 모두 같지만 한 가지 특성을 더 가지고 있다.
* 이 괄호를 통해 새로운 실행 컨텍스트가 열린다는 점이다.
* 함수를 실행하는 괄호에서는 코드가 실행되었을 때 해당 지점에 값을 만든 후 끝나지 않고 이 값이 실행된 함수의 공간으로 넘어간다.
* 새롬게 열린 공간이 끝나기 전까지는 이전 공간의 상황들도 끝나지 않는다.
* 이 공간들을 실행 컨텍스트라고 한다.

* 새로운 공간이 생긴다는 것, 콜 스택에 쌓인다는 것, 태스크 큐와 이벤트 루프에 의해 제어된다는 것, 이것들을 통해 개발자가 시작과 끝을 제어할 수 있다는 점들이 함수를 실행하는 괄호가 가진 가장 특별한 차이다.

* 함수가 정의되거나 실행되는 지점에서는 클로저도 만들어질 수 있고, 비동기 상황이 생길수도 있으며 서로 다른 컨텍스트가 연결되는 등의 특별한 일들이 생긴다.

* 스코프, 실행 컨텍스트, 태스크 큐, 이벤트 루프, 마이크로 태스크 등으로 구글에서 검색하면 좋은 문서들이 많이 나돈다.

### 2.5.2 기본적인 비동기 상황

```js
console.log(1);
setTimeout(function() {
  console.log(3);
}, 1000);
console.log(2);
```

```js
const add = function(a, b, callback) {
  setTimeout(function() {
    callback(a + b);
  }, 1000);
};

add(10, 5, function(r) {
  console.log(r);
});
```

