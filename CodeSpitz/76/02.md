# Box Model

* margin
* border
* padding
* contents

* margin
  * 그림을 채우지 않는다.
  * 그림을 채우는 것은 border까지

## Morden Box

* box-shadow
  * margin과 border 사이
  * border의 그림자 같은 역할
  * geometry로 계산되지 않는다.
  * 여러 개 그릴 수 있다.
* box-shodow inset
  * border 안쪽. 즉, border와 padding 경계의 안쪽
  * 여러 개 그릴 수 있다.
* outline
  * box-shadow와 동일한 위치에 그려진다.
* box-shodow와 box-shadow inset은  border radius에 영향을 받는다.
* outline은 border radius에 영향을 받지 않는다.

## box-sizing

```html
<style>
  .aaa {
    width:100px;
    height:100px;
    padding:10px;
    border:10px solid black;
    display: inline-block;
  }
</style>
<div class="aaa" style="background: red;">
</div><div class="aaa" style="background: blue; box-sizing: border-box"></div>
```

* 빨간 박스의 사이즈는 100*100
* padding 10, border 10이 포함되어 전체 크기는 140
* 즉, content-box가 css box sizing의 기본이다.
* 파란색 박스처럼 box-sizing: border-box로 설정하면 100*100 크기 안에 content가 들어간다.
* 100*100 content 크기를 보존하려면 border-box를 빼고
* 100*100 크기 안에 content를 넣으려면 border-box를 넣는다.
* padding, border를 모두 0으로 설정하면 두 박스의 크기는 동일해진다.

## border & background

```html
<style>
  .bbb {
    width: 100px;
    height: 100px;
    padding: 10px;
    border: 10px dashed rgba(0,0,0,0.5);
    display: inline-block;
  }
</style>
<div class="bbb" style="background: red;">
</div><div class="bbb" style="background: blue; box-sizing: border-box"></div>
```

* border를 dashed로 변경하고 알파값을 넣었다.
* 반투명해진 점선 아래로 빨간색을 볼 수 있다.
* border 영역까지 모두 색이 칠해진다는 것을 확인할 수 있다.

## box-shadow

```html
<style>
  .ccc {
    width: 100px;
    height: 100px;
    padding: 10px;
    border: 10px dashed rgba(0,0,0,0.5);
    display: inline-block;
  }
</style>
<div class="ccc" style="background: red;">
</div><div class="ccc" style="background: blue;
box-shadow: 0 0 0 10px #aa0"></div>

```

* geometry에는 전혀 영향이 없다.
* box-shadow 영역이 빨간 박스를 약간 덮는다.
* 그려지는 순서가 있다는 의미다.

## box-shadow & relative

```html
<style>
  .ddd {
    width: 100px;
    height: 100px;
    padding: 10px;
    border: 10px dashed rgba(0,0,0,0.5);
    display: inline-block;
  }
</style>
<div class="ddd" style="background: red; position: relative;">
</div><div class="ddd" style="background: blue;
box-shadow: 0 0 0 10px #aa0"></div>
```

* position: relative가 붙으면 normal flow를 그린 후 다시 그린다.
* 그래서 이번에는 반투명한 노란색 border 위를 빨간 박스가 덮는다.

## box-shadow inset

```html
<style>
  .ddd {
    width: 100px;
    height: 100px;
    padding: 10px;
    border: 10px dashed rgba(0,0,0,0.5);
    display: inline-block;
  }
</style>
<div class="ddd" style="background: red; position: relative;">
</div><div class="ddd" style="background: blue;
box-shadow: inset 0 0 0 10px #aa0"></div>
```

* box-shadow에 inset을 추가하면 border 박스 외곽의 box-shadow가 border 안쪽의 padding 위치에 그려진다.

## box-shadow sandwich

```html
<div class="ddd" style="background: red; position: relative;">
</div><div class="ddd" style="background: blue;
box-shadow:
0 0 0 10px #aa0,
inset 0 0 0 10px #aa0"></div>
```

* box-shadow는 comma로 구분하여 여러 개를 그릴 수 있다.

## box-shadow n-layer

```html
<div class="ddd" style="background: red; position: relative;">
</div><div class="ddd" style="background: blue;
box-shadow:
0 0 0 10px #aa0,
0 0 0 20px #0a0,
inset 0 0 0 10px #aa0,
inset 0 0 0 20px #0a0"></div>
```

* box-shadow를 2개, box-shadow inset을 2개 그렸다.
* box-shadow만 보면 10px yellow, 20px green이 그려진다.
* yellow가 green에 덮히게 될까? green위에 yellow가 올라갈까?
* box-shadow는 정의한 역순으로 그려진다.
* 따라서 위 코드는 20px이 먼저 그려지고 10px이 그려져서 green위에 yellow가 올라간 것 처럼 보인다.

## box-shadow & border-radius

```html
<div class="ddd" style="background: red;">
</div><div class="ddd" style="background: blue;
box-shadow:
  0 0 0 10px #aa0,
  0 0 0 20px #0a0,
  inset 0 0 0 10px #aa0,
  inset 0 0 0 20px #0a0;
border-radius: 50%;"></div>
```

* box-shadow는 border radius를 그대로 따라간다.

## box-shadow animation

```html
<style>
@keyframes ani {
    from {transform: rotate(0);
            0 0 0 0 #aa0,
            0 0 0 0 #0a0,
            inset 0 0 0 0 #aa0,
            inset 0 0 0 0 #0a0}
    to {transform: rotate(360deg);
          0 0 0 10px #aa0,
          0 0 0 20px #0a0,
          inset 0 0 0 10px #aa0,
          inset 0 0 0 20px #0a0}
  }
  .eee {
    width: 100px;
    height: 100px;
    padding: 10px;
    border: 10px dashed #000;
    display: inline-block;
  }
</style>
<div class="eee" style="background: blue;
border-radius: 50%;
animation:ani 0.4s linear alternate infinite"></div>
```

* keyframes 를 이용하여 회전, 크기변경 animation을 추가했다.
