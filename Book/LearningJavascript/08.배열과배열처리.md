# 08. 배열과 배열 처리

## 배열의 기초

* 배열의 요소는 다른 타입이 올 수 있다.
* 배열 길이보다 큰 인덱스를 사용해서 요소를 할당하면 배열은 자동으로 그 인덱스에 맞게 늘어나고 빈 자리는 undefined로 채워진다.

## 배열 요소 조작

* 배열 메서드 중 일부는 배열 자체를 수정하고 다른 일부는 새 배열을 반환한다.

## 배열의 처음이나 끝에 요소 하나를 추가/제거

* push, pop은 각각 배열의 끝에 요소를 추가하거나 제거한다.
* shift, unshift는 각각 배열의 끝네 요소를 제거하거나 추가한다.
* 4가지 메서드 모두 배열을 수정한다.
* push, unshift는 새 요소를 추가해서 늘어난 길이를 반환
* pop, shift는 제거된 요소를 반환

```js
const arr = ['b', 'c', 'd'];
arr.push('e');
console.log(arr);  // ['b', 'c', 'd', 'e']
arr.pop('e');
console.log(arr);  // ['b', 'c', 'd']
arr.unshift('a');
console.log(arr);  // ['a', 'b', 'c', 'd']
arr.shift('a');
console.log(arr);  // ['b', 'c', 'd']
```

* push, pop은 stack
* unshift, shift는 queue

## 배열의 끝에 여러 요소 추가

* concat 메서드는 배열의 끝에 여러 요소를 추가한 사본을 반환한다.

```js
const arr = [1, 2, 3];

const arr1 = arr.concat(4, 5, 6);
console.log(arr1);
console.log(arr);

const arr2 = arr.concat([4, 5, 6]);
console.log(arr2);
console.log(arr);

const arr3 = arr.concat([4, 5], 6);
console.log(arr3);
console.log(arr);

const arr4 = arr.concat([4, [5, 6]]);
console.log(arr4);  // [1, 2, 3, 4, [5, 6]]
console.log(arr);
```

* concat은 제공받은 배열을 한 번만 분해한다.
* 배열 안에 있는 배열을 다시 분해햐지 않는다.

## 배열 일부 가져오기

* slice 메서드 사용
* slice 메서드는 매개변수 두 개를 받는다.
* 첫 번째 매개변수는 어디서 부터 가져올지를 지정
* 두 번째 매개변수는 어디까지 가져올지를 지정(미포함)
* 두 번째 매개변수를 생략하면 배열의 마지막까지 반환한다.
* 음수 인덱스를 쓰면 배열의 끝에서부터 계산한다.
* 원본은 변경되지 않는다.

```js
const arr = [1, 2, 3, 4, 5];

const arr1 = arr.slice(1);
const arr2 = arr.slice(1, 2);
const arr3 = arr.slice(-1);
const arr4 = arr.slice(1, -1);
const arr5 = arr.slice(-2, -1);

console.log(arr1);
console.log(arr2);
console.log(arr3);
console.log(arr4);
console.log(arr5);
```

```js
[2, 3, 4, 5]
[2]
[5]
[2, 3, 4]
[4]
```

## 지정된 위치에 요소를 추가/제거

* splice의 첫 번째 매개변수는 수정을 시작할 인덱스
* 두 번째 매개변수는 제거할 요소 숫자.
* 아무 요소도 제거하지 않을 때는 0을 넘긴다.
* 나머지 매개변수는 배열에 추가된 요소.

```js
const arr = [1, 5, 7];

const arr1 = arr.splice(1, 0, 2, 3, 4);
console.log(arr1)
console.log(arr)

const arr2 = arr.splice(5, 0, 6);
console.log(arr2);
console.log(arr);

const arr3 = arr.splice(1, 2);
console.log(arr3);
console.log(arr);

const arr4 = arr.splice(2, 1, 'a', 'b');
console.log(arr4);
console.log(arr);
```

```js
...
[1, 4, 'a', 'b', 6, 7]
```

## 배열 안에서 요소 교체

* copyWithin: 배열 요소를 복사해서 다른 위치에 붙여넣고 기존의 요소를 덮어쓴다.
* 첫 번째 매개변수는 복사한 요소를 붙여넣을 위치
* 두 번째 매개변수는 복사를 시작할 위치
* 세 번째 매개변수를 복사를 끝낼 위치(생략 가능)
* 음수 인덱스를 사용하면 배열의 끝에서 부터 계산한다.

```js
const arr = [1, 2, 3, 4];

const arr1 = arr.copyWithin(1, 2);
console.log(arr1);
console.log(arr);

const arr2 = arr.copyWithin(2, 0, 2);
console.log(arr2);
console.log(arr);

const arr3 = arr.copyWithin(0, -3, -1);
console.log(arr3);
console.log(arr);
```

```js
[1, 3, 4, 4]
[1, 3, 4, 4]
[1, 3, 1, 3]
[1, 3, 1, 3]
[3, 1, 1, 3]
[3, 1, 1, 3]
```

* (어렵다. 써먹을 수 있을까?)

## 특정 값으로 배열 채우기

* fill 메서드는 정해진 값으로 배열을 채운다.
* 크기를 지정해서 배열을 생성하는 Array 생성자와 주로 함께 쓴다.
* 배열의 일부만 채울 때는 시작 인덱스와 끝 인덱스를 지정한다.

```js
const arr = new Array(5).fill(1);
console.log(arr);

arr.fill('b', 1);
console.log(arr);

arr.fill('c', 2, 4);
console.log(arr);

arr.fill('d', 3, -1);
console.log(arr);

arr.fill('e', -1);
console.log(arr);

arr.fill('a', 0, 1);
console.log(arr);
```

## 정렬

* sort, reverse
* sort는 정렬 함수를 받을 수 있다.

```js
const arr = [{ name: 'Lee' }, { name: 'Kim' },
             { name: 'Kwak'}, { name: 'Choi'}];
arr.sort((a, b) => a.name > b.name);
console.log(arr);
```
