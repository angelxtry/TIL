# pandas 날짜 처리

* pandas에서 시계열 자료를 생성하려면 인덱스를 DatetimeIndex로 만들어야 한다.
* DatetimeIndex는 다음의 함수를 사용하여 생성한다.
  * pd.to_datetime()
  * pd.date_range()

```py
In [2]: date_str = ['2018, 1, 1', '2018, 2, 1', '2018, 2, 3']

In [3]: idx = pd.to_datetime(date_str)

In [4]: idx
Out[4]: DatetimeIndex(['2018-01-01', '2018-02-01', '2018-02-03'], dtype='datetime64[ns]', freq=None)
```

* pd.to_datetime() 함수는 문자열을 자동으로 datetime 타입으로 변경하여 DatetimeIndex를 생성한다.

```py
In [7]: ts = pd.Series(np.random.randn(3), index=idx)

In [8]: ts
Out[8]:
2018-01-01    0.980608
2018-02-01   -0.504783
2018-02-03    0.511756
dtype: float64
```

* DatetimeIndex를 이용하여 series를 생성

```py
In [9]: idx = pd.date_range('2018, 1, 1', '2018, 1, 31')

In [10]: idx
Out[10]:
DatetimeIndex(['2018-01-01', '2018-01-02', '2018-01-03', '2018-01-04',
               '2018-01-05', '2018-01-06', '2018-01-07', '2018-01-08',
               '2018-01-09', '2018-01-10', '2018-01-11', '2018-01-12',
               '2018-01-13', '2018-01-14', '2018-01-15', '2018-01-16',
               '2018-01-17', '2018-01-18', '2018-01-19', '2018-01-20',
               '2018-01-21', '2018-01-22', '2018-01-23', '2018-01-24',
               '2018-01-25', '2018-01-26', '2018-01-27', '2018-01-28',
               '2018-01-29', '2018-01-30', '2018-01-31'],
              dtype='datetime64[ns]', freq='D')
```

* pd.date_range()에 start_date, end_date를 설정하면 두 일자를 포함한 두 일자 사이의 모든 날짜가 포함된다.

```py
In [11]: idx = pd.date_range('2018, 2, 1', periods=30)

In [12]: idx
Out[12]:
DatetimeIndex(['2018-02-01', '2018-02-02', '2018-02-03', '2018-02-04',
               '2018-02-05', '2018-02-06', '2018-02-07', '2018-02-08',
               '2018-02-09', '2018-02-10', '2018-02-11', '2018-02-12',
               '2018-02-13', '2018-02-14', '2018-02-15', '2018-02-16',
               '2018-02-17', '2018-02-18', '2018-02-19', '2018-02-20',
               '2018-02-21', '2018-02-22', '2018-02-23', '2018-02-24',
               '2018-02-25', '2018-02-26', '2018-02-27', '2018-02-28',
               '2018-03-01', '2018-03-02'],
              dtype='datetime64[ns]', freq='D')
```

* period인자를 이용하여 일수를 지정할 수 있다.

* 매달 특정 일자를 지정하여 선택하는 기능은 없다.
* 날짜 인덱스를 만들려면 미리 날짜 리스트를 만들고 DatetiemIndex로 변환하는 방식을 사용해야겠다.
