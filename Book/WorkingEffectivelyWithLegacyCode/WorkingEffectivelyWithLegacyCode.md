# 레거시 코드 활용 전략

이 책의 주제는 어떻게 테스트를 잘 할 것인가이다.

조금만 더 풀어서 설명하면 다음과 같다.

프로그램은 결국 변경된다. 프로그램을 변경하려면 의도하지 않은 부작용을 없애야 한다. 어떻게? 테스트를 이용해서. 테스트하기 쉽지 않다. 테스트를 쉽게 하려면 의존관계를 분리하자.

원서를 못봤지만, 번역이 매우 깔끔하다. 번역체라고 느껴지는 부자연스러운 문장이 없었다. 소주제에 대한 코드 예시도 쉬운 편이다. 각 챕터에서 전달하고자 하는 내용이 잘 이해된다. (물론 이해와 활용은 별개다.)

책이 무겁다. 단지 페이지 수가 많다는 의미도 아니고 무게가 무겁다는 의미도 아니다. 좋은 내용인걸 알겠고, 써먹어 보고 싶은 부분도 보인다. 그래서 천천히 읽게 되고 페이지 수에 비해 읽는 진도가 느렸다. 데드라인을 정해놓고 읽어서 한번 다 보기는 했지만 다 읽고 난 뒤에 어느 정도 기억하고 있을지, 체득한 부분이 있을지는 모르겠다.

또 봐야지 뭐.

## 1. 코드 변경의 메커니즘

### ch1. 소프트웨어 변경

37p
> 코드를 변경하는 네 가지 이유
> - new feature
> - bug
> - 설계 개선
> - 자원이용의 최적화

43p
> 변경 대상 코드에만 집중하면 안 된다. 어떻게 기존의 동작에 영향을 미치지 않고 유지할 수 있을지 고민해야 하는 것이다. 불행히도, 기존의 동작을 그대로 유지한다는 것은 단순히 코드를 그대로 두는 것 이상의 의미를 갖는다.
> 기존 동작의 유지는 소프트웨어 개발에서 가장 어려운 문제에 속한다.

### ch2. 피드백 활용

45p
> 시스템을 변경하는 방법은 크게 두 가지
> 편집 후 기도하기 edit and pray
> 보호 후 수정하기 cover and modify
> 유감스럽게도 편집 후 기도하기 방식이 업계 표준에 가깝다.

49p
> 단위 테스트의 기본 개념은 독립된 개별 소프트웨어 컴포넌트를 테스트하는 것이다. 단위 테스트에서 얘기하는 컴포넌트는 시스템의 가장 원자적인 동작 단위를 의미한다. 절차적 프로그래밍에서 단위는 보통 함수를 의미하며, 객체 지향 프로그래밍에서는 클래스를 의미한다.
> 테스트 하네스(test harness)는 소프트웨어의 일부 코드를 실행하기 위해 작성되는 테스트용 코드를 의미하는 포괄적인 용어로서 이 책에서 사용된다.

54p
> 대부분의 레거시 코드 작업은 코드를 좀 더 쉽게 변경할 수 있도록 의존 관계를 제거하는 작업을 포함한다.

55p
> 레거시 코드의 딜레마
> 코드 변경을 하려면 테스트 코드를 배치해야 한다. 그런데 테스트 코드를 배치하려면 코드 변경이 필요할 때가 많다.
