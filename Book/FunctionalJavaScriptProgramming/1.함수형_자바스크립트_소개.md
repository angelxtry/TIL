# 1장 함수형 자바스크립트 소개

```js
const addMaker = (a) => {
  return (b) => {
    return a + b;
  }
}

console.log(addMaker(5)(3));

const add5 = addMaker(5);
console.log(add5(5));

const add3 = addMaker(3);
console.log(add3(5));
```

```py
def addMaker(a):
    def wrapper(b):
        return a + b
    return wrapper

print(addMaker(5)(3))

add5 = addMaker(5)
print(add5(5))

add3 = addMaker(3)
print(add3(5))
```

```js
const users = [
  { id: 1, name: 'ID', age: 32},
  { id: 2, name: 'HA', age: 25},
  { id: 3, name: 'BJ', age: 32},
  { id: 4, name: 'PJ', age: 28},
  { id: 5, name: 'JE', age: 27},
  { id: 6, name: 'JM', age: 32},
  { id: 7, name: 'HI', age: 24},
];

const temp_user = [];
for (let i = 0, len = users.length; i < len; i++){
  if (users[i].age < 30) temp_user.push(users[i]);
}
console.log(temp_user.length);

const ages = [];
for (let i = 0, len = temp_user.length; i < len; i++) {
  ages.push(temp_user[i].age);
}
console.log(ages);
```

```js
// function filter(list, predicate) {
//   const new_list = [];
//   for (let i = 0, len = list.length; i < len; i++){
//     if (predicate(list[i])) new_list.push(list[i]);
//   }
//   return new_list;
// }

const filter = (list, predicate) => {
  const new_list = [];
  for (let i = 0, len = list.length; i < len; i++){
    if (predicate(list[i])) new_list.push(list[i]);
  }
  return new_list;
};

const users_under_30 = filter(users, function(user) { return user.age < 30 });
console.log(users_under_30.length);

const ages = [];
for (let i = 0, len = users_under_30.length; i < len; i++) {
  ages.push(users_under_30[i].age);
}
console.log(ages);

const users_over_30 = filter(users, function(user) { return user.age >= 30; });
console.log(users_over_30.length);

const names = [];
for (let i = 0, len = users_over_30.length; i < len; i++) {
  names.push(users_over_30[i].name);
}
console.log(names);
```

```py
users = [
  { 'id': 1, 'name': 'ID', 'age': 32},
  { 'id': 2, 'name': 'HA', 'age': 25},
  { 'id': 3, 'name': 'BJ', 'age': 32},
  { 'id': 4, 'name': 'PJ', 'age': 28},
  { 'id': 5, 'name': 'JE', 'age': 27},
  { 'id': 6, 'name': 'JM', 'age': 32},
  { 'id': 7, 'name': 'HI', 'age': 24},
]

def filter(list, predicate):
    return [user for user in users if predicate(user)]

users_under_30 = filter(users, lambda user: user['age'] < 30)
print(len(users_under_30))

for user in users_under_30:
    print('{id}, {name}, {age}'.format_map(user))
```

```js
const filter = (list, predicate) => {
  const new_list = [];
  for (let i = 0, len = list.length; i < len; i++){
    if (predicate(list[i])) new_list.push(list[i]);
  }
  return new_list;
};

const map = (list, iteratee) => {
  const new_list = [];
  for (let i = 0, len = list.length; i < len; i++){
    new_list.push(iteratee(list[i]));
  }
  return new_list;
};

const users_under_30 = filter(users, function(user) { return user.age < 30 });
console.log(users_under_30.length);

// stage 1
// const ages = [];
// for (let i = 0, len = users_under_30.length; i < len; i++) {
//   ages.push(users_under_30[i].age);
// }

// stage 2
const ages = map(users_under_30, function(user) { return user.age; })
console.log(ages);


const users_over_30 = filter(users, function(user) { return user.age >= 30; });
console.log(users_over_30.length);

// const names = [];
// for (let i = 0, len = users_over_30.length; i < len; i++) {
//   names.push(users_over_30[i].name);
// }
const names = map(users_over_30, function(user) { return user.name; })
console.log(names);
```

```py
ages = [user['age'] for user in users_under_30]
print(ages)
```

```js
const users = [
  { id: 1, name: 'ID', age: 32},
  { id: 2, name: 'HA', age: 25},
  { id: 3, name: 'BJ', age: 32},
  { id: 4, name: 'PJ', age: 28},
  { id: 5, name: 'JE', age: 27},
  { id: 6, name: 'JM', age: 32},
  { id: 7, name: 'HI', age: 24},
];

const filter = (list, predicate) => {
  const new_list = [];
  for (let i = 0, len = list.length; i < len; i++){
    if (predicate(list[i])) new_list.push(list[i]);
  }
  return new_list;
};

const map = (list, iteratee) => {
  const new_list = [];
  for (let i = 0, len = list.length; i < len; i++){
    new_list.push(iteratee(list[i]));
  }
  return new_list;
};

const ages = map(filter(users, (user) => user.age < 30), (user) => user.age);
console.log(ages);

const names = map(filter(users, (user) => user.age >= 30), (user) => user.name);
console.log(names);
```

```js
const users = [
  { id: 1, name: 'ID', age: 32},
  { id: 2, name: 'HA', age: 25},
  { id: 3, name: 'BJ', age: 32},
  { id: 4, name: 'PJ', age: 28},
  { id: 5, name: 'JE', age: 27},
  { id: 6, name: 'JM', age: 32},
  { id: 7, name: 'HI', age: 24},
];

const filter = (list, predicate) => {
  const new_list = [];
  for (let i = 0, len = list.length; i < len; i++){
    if (predicate(list[i])) new_list.push(list[i]);
  }
  return new_list;
};

const map = (list, iteratee) => {
  const new_list = [];
  for (let i = 0, len = list.length; i < len; i++){
    new_list.push(iteratee(list[i]));
  }
  return new_list;
};

const log_length = (value) => {
  console.log(value.length);
  return value;
}

const ages = log_length(
  map(filter(users, (user) => user.age < 30), (user) => user.age)
);
console.log(ages);

const names = log_length(
  map(filter(users, (user) => user.age >= 30), (user) => user.name)
);
console.log(names);
```

```py
from operator import itemgetter

users = [
  { 'id': 1, 'name': 'ID', 'age': 32},
  { 'id': 2, 'name': 'HA', 'age': 25},
  { 'id': 3, 'name': 'BJ', 'age': 32},
  { 'id': 4, 'name': 'PJ', 'age': 28},
  { 'id': 5, 'name': 'JE', 'age': 27},
  { 'id': 6, 'name': 'JM', 'age': 32},
  { 'id': 7, 'name': 'HI', 'age': 24},
]

def filter(params, predicate):
    return [user for user in params if predicate(user)]

def userMap(params, iteratee):
    return [iteratee(user) for user in params]

names = userMap(
    filter(users, lambda user: user['age'] >= 30),
    lambda user: user['name']
    )
print(names)

names2 = userMap(
    filter(users, lambda user: user['age'] >= 30), itemgetter('name')
    )
print(names2)
```