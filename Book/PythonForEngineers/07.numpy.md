# numpy

## numpy가 빠른 이유
* numpy는 다차원 배열 객체인 ndarray를 기본 데이터 저장 포멧으로 사용한다.
* ndarray는 데이터와 메타 데이터(차원, 데이터 타입 등)로 이루어져 있다.
* ndarray는 데이터를 시스템상의 메모리에 빈틈없이 빽빽히 배치한다.
* 파이썬의 기본자료형인 리스트는 각 요소가 메모리에 흩어져 저장된다. id 함수로 확인할 수 있다.

## numpy의 데이터 타입
* 파이썬의 내장 데이터 타입을 사용할 때는 세부적인 타입을 지정할 수 없다.
* 이 점은 데이터가 어떤 포맷으로 저장되었는지 신경 쓸 필요 없는 프로그램에서는 장점이다.
* 코드 작성은 간단해지지만 메모리를 낭비할 가능성이 있다.
* numpy는 독자적인 데이터 타입을 사용하여 불필요한 메모리 사용을 피할 수 있다.

```py
a = np.uint16(32)  # 16비트 unsigned int
a = np.array([123.123, 234.234], dtype=np.single)
```

## 배열과 행렬
* numpy의 배열과 행렬은 모두 일반적인 의미의 배열이다.
* 차이점은 행렬곱 연산에 사용되는 연산자가 다르다는 것 뿐이다.
```py
A = np.array([[1, 2], [3, 4]])  # 배열(ndarray) 생성
B = np.matrix([[1, 2], [3, 4]])  # 행렬 생성
```

* numpy에서 배열은 ndarray라는 객체로 표현된다.

## ndarray 생성하기
```py
matB = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])  # 리스트로 ndarray 생성
matC = np.array(((1, 2, 3), (4, 5, 6), (7, 8, 9)))  # 튜플로 ndarray 생성
```
* 일반적인 파이썬의 중첩 리스트와 비교하여 ndarray는 다음과 같은 특징을 같는다.
    * 메모리 상의 연속적 공간에 데이터가 저장된다.
    * 기본적으로 모든 요소가 같은 데이터 타입이다.
    * 각 차원마다 요소 수가 같아야 한다.
    * 배열 안의 모든 요소, 또는 일부 요소에 대해 특정 연산을 고속으로 수행할 수 있다.
* 파이썬의 중첩 리스트를 사용하는 경우 링크가 각 셀을 결합하고 있는 형태로 메모리상에 저장되기 때문에 객체의 구성을 동적으로 변경할 수 있다.
* ndarray는 형상 변경을 하려면 전체 요소에 대한 삭제 및 재생성이 필요하다.
```py
np.zeros((2, 3))  # 모든 요소가 0, 퓨틀로 지정한 크기를 갖는 ndarray
np.arange(10, 20, 2)
```
* `arange([start,] stop[, step][, dtype])`
    * stop이 부동 소수 타입인 경우 stop값이 포함된다.

## ndarray의 속성
* T: 전치행렬 리턴(self.transpose())
* dtype: 배열의 데이터 타입
* flat: 1차원 배열처럼 동작하는 반복자 객체 리턴
* size: 모든 요소의 수
* nbytes: 전체 데이터 크기
* ndim: 배열의 차원
* shape: 배열의 형상을 나타내는 튜