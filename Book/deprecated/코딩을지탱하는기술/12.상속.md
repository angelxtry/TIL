# 12장. 상속

## 상속에 관한 다양한 접근법

### 일반화/특수화

- 부모 클래스로 일반적인 기능을 구현하고, 자식 클래스로 목적에 특화된 기능을 구현한다.

### 공통 부분을 추출

## 다중 상속의 문제점

### 해결책 1: 다중 상속을 금지한다

#### 위임

- 다중 상속을 대신해서 발달한 것이 위임(delegation) 개념이다.
- 사용하고 싶은 코드를 가지고 있는 클래스 객체를 만들고, 필요에 따라 해당 클래스에 처리를 맡기는 방법이다.
- 상속을 사용해서 형이나 이름 공간까지 함께 계승하는 것이 문제의 원인이기 때문에, 단순히 객체를 보유하기만 하면 문제를 막을 수 있다.

- 복수 클래스를 상속을 사용해서 결합시키는 것이 아니라, 위임을 사용해서 조합하는 것이 낫다.
- 위임의 참조도 소스에 하드코딩하는 것이 아니라, 설정 파일을 사용해서 실행 시에 주입하는 것이 편리하다.
- 이런 발상으로 의존성 주입(Dependency Injection)이 탄생했다.

#### 인터페이스

- Java에도 다중 상속이 가능한 것이 Interface다.
- 인터페이스는 코드를 가지고 있지 않은 클래스다.
- 인터페이스를 상속한 클래스는 반드시 xx라는 이름의 메소드를 가지고 있다라는 사양만 가지고 있다.
- 다중 상속 시 발생하는 문제는 복수의 코드가 충돌하면 어느 쪽을 선택하면 좋을지 모른다는 것이었다.
- 인터페이스의 다중 상속으로 가지고 있다는 정보가 복수 개 있다고 해도, 그것은 가지고 있다는 사실 자체이기 때문에 아무 문제도 발생하지 않는다.

### 해결책 2: 메소드 해결 순서를 고민한다

- C3 선형화로 순서를 정한다.

### 해결책 3: 처리를 섞는다

- 조상 클래스까지 도달하는 경로가 여러 개 있는 것이 문제다.
- 그렇다면 재사용하고 싶은 기능만을 모은 작은 클래스를 만들어서 해당 기능을 추가하고 싶은 클래스에 섞어 넣으면 된다.
- 이러한 설계 방침이나 섞어 넣는 것, 그리고 섞기 위한 작은 클래스를 Mix-in이라고 부른다.
- Mix-in이란 용어의 기원은 C++ 설계자인 Bjarne Stroustrup에 의하면 MIT 근처에 있는 아이스크림 집에서 땅콩이나 건포도롤 아이스크림에 섞어서 주는 것에서 왔다고 한다.

#### Python의 경우

- Mix-in이라는 코딩 스타일 자체는 언어 처리계의 지원 없이도 사용할 수 있다.
- 통상적으로 이런 작은 클래스는 재사용 단위로 사용하기 위해 최소한의 메소드만 정의하고 있고, 그것 자체로 인스턴스를 만들어서 사용하지는 못한다.
- 이 클래스는 인스턴스 만드는 것을 고려하지 않는다는 것을 표명하기 위해 이름에 MixIn을 붙인다.
