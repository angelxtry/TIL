# 74-3

## stacks

* class 같은 거룩한 얘기를 할 때가 아니다. ㅋㅋㅋㅋ

* 함수는 짜보는 훈련

## html parser

* 함수 3개면 된다.

* AST, BNF

* 간단한 형식을 정의하면서 쌓아가서 만든다.

* 태그
    * 열었다가 닫는다.
    * 혼자 태그
    * 태그 없는 것

* 재귀로 구현하면 좀 쉽다? 스택이 문제

* 코딩을 하다보면 대부분의 일들은 재귀적인 반복이 많다.
    * 폴더 안의 파일 트리
    * 파일 내의 문자열 찾기

```js
const parser = input=>{
    const result;
    let cursor = 0;

    while(cursor < input.length){

    }
    return result;
}
```
* 함수를 만들 때 레이아웃을 고민한다. - 이 함수가 어떻게 생겼나
* 함수의 밑바탕이 되는 시그니쳐를 결정한다.
* input으로 들어온 문자열을 순회하면서 결과를 리턴한다.

```js
const parser = input=>{
    const result;
    let cursor = 0;

    while(cursor < input.length){
        const char = input[cursor++];
        if(char === '<'){
            if(text.length){
                text = '';
            }
        } else {
            text += char;
        }
    }
    return result;
};
```
* `<`가 등장할 때 그동안 쌓아두었던 데이터로 텍스트 노드가 만들어진다.


* 반복되거나 아니면 별도의 행위라고 판단되면 함수를 만들자.
* 함수가 길어지기 시작하면 변수를 따라가기 힘들다.
* 

* 함수의 역할
    * 코드상의 알고리즘을 제거하고 어휘로 바꿔준다.
    * 알고리즘: 변수의 상태를 바꾸거나 흐름을 제어하는 것
    * 코드가 좋아지려면 어휘를 늘리는 수 밖에 없다.
    * 역할에 맞는 이름이 들어가 있으면 가독성이 향상되고 알고리즘이 사라진다.
    * 알고리즘을 만들자마자 그 즉시 함수로 빼야한다.
    * 구체적으로 만들지 말고 시그니커만 만들면 바로 함수로 뺀다.

* textNode는 부수효과를 발생시킨다. 어찌되었든 일단 빼자.
    * 부수작용이 있으면 리턴하지 않는 것이 더 좋다.

* 컴퓨터가 자동으로 해주는 것에 기대지 마라.
    * 모든 것을 한땀한땀 설명할 수 있고 작성할 수 있어야 한다.
    * 작업을 한국어로 표현해봐라.
    * 모든 것을 바닥부터 한다면 어떻게 설명할 것인가.

* NODE 타입은 자식을 가질 수 있다.

* 최초의 Root, 최초의 태그는 root 의 자식이다.

----

* 입사 3~4년차 수준
    * 이 정도 복잡성은 극복해야 한다.

* cursor = x
    * x가 두번째 인자다.

* 돌아와야 한다.
    * 이게 함수의 리턴 포인트와 같은거다.

* 흐름제어는 오토마타
    * 하나의 축에 여러가지 행동을 할 수 있게 하는 것
    * 한가지 힘을 입력하면 여러가지 행동을 하는 것
    * 유튜브 오토마타 검색

* 지역변수 값을 바꿀 수가 없다.

* 함수에 위임하려면 제어문을 값을로 바꿀 수 있어야 한다.
    * 어떠한 문이라도 값으로 바꿀 수 있다.

* 오프젝트의 해체할당


